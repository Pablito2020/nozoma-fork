5d56981e3d0d4e9604ef2921e76a1d67
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const InvalidArgumentError_1 = __importDefault(require("@shared/domain/InvalidArgumentError"));
const StringVo_1 = __importDefault(require("@shared/domain/StringVo"));
const uuid_1 = require("uuid");
const uuid_validate_1 = __importDefault(require("uuid-validate"));
class UuidVo extends StringVo_1.default {
    constructor(value) {
        UuidVo.ensureIsValidUuid(value);
        super(value);
    }
    static random() {
        return new UuidVo((0, uuid_1.v4)());
    }
    static ensureIsValidUuid(id) {
        if (!(0, uuid_validate_1.default)(id)) {
            throw new InvalidArgumentError_1.default(`<${this.constructor.name}> does not allow the value <${id}>`);
        }
    }
    equalsTo(other) {
        return super.equalsTo(other);
    }
}
exports.default = UuidVo;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvcGF0cmljay9Eb3dubG9hZHMvTm96b21hQ0RBL3NyYy9jb250ZXh0cy9zaGFyZWQvZG9tYWluL1V1aWRWby50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLCtGQUF1RTtBQUN2RSx1RUFBK0M7QUFDL0MsK0JBQTBCO0FBQzFCLGtFQUFxQztBQUVyQyxNQUFxQixNQUFPLFNBQVEsa0JBQVE7SUFDeEMsWUFBWSxLQUFhO1FBQ3JCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakIsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNO1FBQ1QsT0FBTyxJQUFJLE1BQU0sQ0FBQyxJQUFBLFNBQUUsR0FBRSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVPLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxFQUFVO1FBQ3ZDLElBQUksQ0FBQyxJQUFBLHVCQUFRLEVBQUMsRUFBRSxDQUFDLEVBQUU7WUFDZixNQUFNLElBQUksOEJBQW9CLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksK0JBQStCLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDakc7SUFDTCxDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQWE7UUFDbEIsT0FBTyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUM7Q0FDSjtBQW5CRCx5QkFtQkMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL2hvbWUvcGF0cmljay9Eb3dubG9hZHMvTm96b21hQ0RBL3NyYy9jb250ZXh0cy9zaGFyZWQvZG9tYWluL1V1aWRWby50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSW52YWxpZEFyZ3VtZW50RXJyb3IgZnJvbSAnQHNoYXJlZC9kb21haW4vSW52YWxpZEFyZ3VtZW50RXJyb3InO1xuaW1wb3J0IFN0cmluZ1ZvIGZyb20gJ0BzaGFyZWQvZG9tYWluL1N0cmluZ1ZvJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgdmFsaWRhdGUgZnJvbSAndXVpZC12YWxpZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFV1aWRWbyBleHRlbmRzIFN0cmluZ1ZvIHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIFV1aWRWby5lbnN1cmVJc1ZhbGlkVXVpZCh2YWx1ZSk7XG4gICAgICAgIHN1cGVyKHZhbHVlKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmFuZG9tKCk6IFV1aWRWbyB7XG4gICAgICAgIHJldHVybiBuZXcgVXVpZFZvKHY0KCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIGVuc3VyZUlzVmFsaWRVdWlkKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF2YWxpZGF0ZShpZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcihgPCR7dGhpcy5jb25zdHJ1Y3Rvci5uYW1lfT4gZG9lcyBub3QgYWxsb3cgdGhlIHZhbHVlIDwke2lkfT5gKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVxdWFsc1RvKG90aGVyOiBVdWlkVm8pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmVxdWFsc1RvKG90aGVyKTtcbiAgICB9XG59XG4iXSwidmVyc2lvbiI6M30=