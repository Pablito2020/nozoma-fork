{"file":"/home/ferran/uni/computacio/nozoma-fork/src/contexts/shared/infra/bus/query/QueryHandlersInformation.ts","mappings":";;;;;AAGA,+GAAuF;AAEvF,MAAqB,wBAAwB;IAGzC,YAAY,aAA6D;QACrE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;IAC/D,CAAC;IAEM,MAAM,CAAC,KAAY;QACtB,MAAM,YAAY,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QAElE,IAAI,CAAC,YAAY,EAAE;YACf,MAAM,IAAI,iCAAuB,CAAC,KAAK,CAAC,CAAC;SAC5C;QAED,OAAO,YAAY,CAAC;IACxB,CAAC;IAED,kDAAkD;IAC1C,cAAc,CAClB,aAA6D;QAE7D,MAAM,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;QAE9B,aAAa,CAAC,OAAO,CAAC,CAAC,YAAY,EAAE,EAAE;YACnC,WAAW,CAAC,GAAG,CAAC,YAAY,CAAC,YAAY,EAAE,EAAE,YAAY,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,OAAO,WAAW,CAAC;IACvB,CAAC;CACJ;AA7BD,2CA6BC","names":[],"sources":["/home/ferran/uni/computacio/nozoma-fork/src/contexts/shared/infra/bus/query/QueryHandlersInformation.ts"],"sourcesContent":["import { Query } from \"@shared/domain/bus/query/Query\";\nimport { QueryHandler } from \"@shared/domain/bus/query/QueryHandler\";\nimport QueryResponse from \"@shared/domain/bus/query/QueryResponse\";\nimport QueryNotRegisteredError from \"@shared/domain/bus/query/QueryNotRegisteredError\";\n\nexport default class QueryHandlersInformation {\n    private queryHandlersMap: Map<Query, QueryHandler<Query, QueryResponse<any>>>;\n\n    constructor(queryHandlers: Array<QueryHandler<Query, QueryResponse<any>>>) {\n        this.queryHandlersMap = this.formatHandlers(queryHandlers);\n    }\n\n    public search(query: Query): QueryHandler<Query, QueryResponse<any>> {\n        const queryHandler = this.queryHandlersMap.get(query.constructor);\n\n        if (!queryHandler) {\n            throw new QueryNotRegisteredError(query);\n        }\n\n        return queryHandler;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    private formatHandlers(\n        queryHandlers: Array<QueryHandler<Query, QueryResponse<any>>>\n    ): Map<Query, QueryHandler<Query, QueryResponse<any>>> {\n        const handlersMap = new Map();\n\n        queryHandlers.forEach((queryHandler) => {\n            handlersMap.set(queryHandler.subscribedTo(), queryHandler);\n        });\n\n        return handlersMap;\n    }\n}\n"],"version":3}