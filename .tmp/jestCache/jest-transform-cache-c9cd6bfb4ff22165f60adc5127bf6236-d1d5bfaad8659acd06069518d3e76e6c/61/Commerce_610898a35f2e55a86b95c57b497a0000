756ecd9b0936d857d5c159479e9d8827
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Aggregate_1 = __importDefault(require("@shared/domain/Aggregate"));
const UuidVo_1 = __importDefault(require("@shared/domain/UuidVo"));
const PhoneVo_1 = __importDefault(require("@shared/domain/PhoneVo"));
const CommerceNameVo_1 = __importDefault(require("@backoffice-contexts/commerces/domain/CommerceNameVo"));
const EmailVo_1 = __importDefault(require("@shared/domain/EmailVo"));
const CommerceDescriptionVo_1 = __importDefault(require("@backoffice-contexts/commerces/domain/CommerceDescriptionVo"));
const AddressVo_1 = __importDefault(require("@shared/domain/AddressVo"));
const CommerceCreatedEvent_1 = __importDefault(require("@backoffice-contexts/commerces/domain/CommerceCreatedEvent"));
class Commerce extends Aggregate_1.default {
    constructor(id, name, email, description, phone, address) {
        super();
        this.id = id;
        this.name = name;
        this.email = email;
        this.description = description;
        this.phone = phone;
        this.address = address;
    }
    static create(id, name, email, description, phone, address) {
        const commerce = new Commerce(id, name, email, description, phone, address);
        commerce.record(new CommerceCreatedEvent_1.default(commerce.toPrimitives()));
        return commerce;
    }
    static fromPrimitives({ address, phone, name, description, id, email }) {
        return new Commerce(new UuidVo_1.default(id), new CommerceNameVo_1.default(name), new EmailVo_1.default(email), new CommerceDescriptionVo_1.default(description), new PhoneVo_1.default(phone), new AddressVo_1.default(address));
    }
    toPrimitives() {
        return {
            id: this.id.value,
            name: this.name.value,
            email: this.email.value,
            description: this.description.value,
            phone: this.phone.value,
            address: this.address.value,
        };
    }
}
exports.default = Commerce;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL2hvbWUvZmVycmFuL3VuaS9jb21wdXRhY2lvL25vem9tYS1mb3JrL3NyYy9jb250ZXh0cy9iYWNrb2ZmaWNlL2NvbW1lcmNlcy9kb21haW4vQ29tbWVyY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx5RUFBaUQ7QUFDakQsbUVBQTJDO0FBQzNDLHFFQUE2QztBQUM3QywwR0FBa0Y7QUFDbEYscUVBQTZDO0FBQzdDLHdIQUFnRztBQUNoRyx5RUFBaUQ7QUFFakQsc0hBQThGO0FBRTlGLE1BQXFCLFFBQVMsU0FBUSxtQkFBUztJQUMzQyxZQUNhLEVBQVUsRUFDVixJQUFvQixFQUNwQixLQUFjLEVBQ2QsV0FBa0MsRUFDbEMsS0FBYyxFQUNkLE9BQWtCO1FBRTNCLEtBQUssRUFBRSxDQUFDO1FBUEMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUNWLFNBQUksR0FBSixJQUFJLENBQWdCO1FBQ3BCLFVBQUssR0FBTCxLQUFLLENBQVM7UUFDZCxnQkFBVyxHQUFYLFdBQVcsQ0FBdUI7UUFDbEMsVUFBSyxHQUFMLEtBQUssQ0FBUztRQUNkLFlBQU8sR0FBUCxPQUFPLENBQVc7SUFHL0IsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQ1QsRUFBVSxFQUNWLElBQW9CLEVBQ3BCLEtBQWMsRUFDZCxXQUFrQyxFQUNsQyxLQUFjLEVBQ2QsT0FBa0I7UUFFbEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxRQUFRLENBQ3pCLEVBQUUsRUFDRixJQUFJLEVBQ0osS0FBSyxFQUNMLFdBQVcsRUFDWCxLQUFLLEVBQ0wsT0FBTyxDQUNWLENBQUM7UUFDRixRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksOEJBQW9CLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuRSxPQUFPLFFBQVEsQ0FBQztJQUNwQixDQUFDO0lBRUQsTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUNsQixPQUFPLEVBQ1AsS0FBSyxFQUNMLElBQUksRUFDSixXQUFXLEVBQ1gsRUFBRSxFQUNGLEtBQUssRUFDWTtRQUNqQixPQUFPLElBQUksUUFBUSxDQUNmLElBQUksZ0JBQU0sQ0FBQyxFQUFFLENBQUMsRUFDZCxJQUFJLHdCQUFjLENBQUMsSUFBSSxDQUFDLEVBQ3hCLElBQUksaUJBQU8sQ0FBQyxLQUFLLENBQUMsRUFDbEIsSUFBSSwrQkFBcUIsQ0FBQyxXQUFXLENBQUMsRUFDdEMsSUFBSSxpQkFBTyxDQUFDLEtBQUssQ0FBQyxFQUNsQixJQUFJLG1CQUFTLENBQUMsT0FBTyxDQUFDLENBQ3pCLENBQUE7SUFDTCxDQUFDO0lBRUQsWUFBWTtRQUNSLE9BQU87WUFDSCxFQUFFLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLO1lBQ2pCLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUs7WUFDckIsS0FBSyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSztZQUN2QixXQUFXLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLO1lBQ25DLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUs7WUFDdkIsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSztTQUM5QixDQUFDO0lBQ04sQ0FBQztDQUVKO0FBN0RELDJCQTZEQyIsIm5hbWVzIjpbXSwic291cmNlcyI6WyIvaG9tZS9mZXJyYW4vdW5pL2NvbXB1dGFjaW8vbm96b21hLWZvcmsvc3JjL2NvbnRleHRzL2JhY2tvZmZpY2UvY29tbWVyY2VzL2RvbWFpbi9Db21tZXJjZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWdncmVnYXRlIGZyb20gJ0BzaGFyZWQvZG9tYWluL0FnZ3JlZ2F0ZSc7XG5pbXBvcnQgVXVpZFZvIGZyb20gJ0BzaGFyZWQvZG9tYWluL1V1aWRWbyc7XG5pbXBvcnQgUGhvbmVWbyBmcm9tICdAc2hhcmVkL2RvbWFpbi9QaG9uZVZvJztcbmltcG9ydCBDb21tZXJjZU5hbWVWbyBmcm9tICdAYmFja29mZmljZS1jb250ZXh0cy9jb21tZXJjZXMvZG9tYWluL0NvbW1lcmNlTmFtZVZvJztcbmltcG9ydCBFbWFpbFZvIGZyb20gJ0BzaGFyZWQvZG9tYWluL0VtYWlsVm8nO1xuaW1wb3J0IENvbW1lcmNlRGVzY3JpcHRpb25WbyBmcm9tICdAYmFja29mZmljZS1jb250ZXh0cy9jb21tZXJjZXMvZG9tYWluL0NvbW1lcmNlRGVzY3JpcHRpb25Wbyc7XG5pbXBvcnQgQWRkcmVzc1ZvIGZyb20gJ0BzaGFyZWQvZG9tYWluL0FkZHJlc3NWbyc7XG5pbXBvcnQgeyBDb21tZXJjZVByaW1pdGl2ZXMgfSBmcm9tICdAYmFja29mZmljZS1jb250ZXh0cy9jb21tZXJjZXMvZG9tYWluL0NvbW1lcmNlUHJpbWl0aXZlcyc7XG5pbXBvcnQgQ29tbWVyY2VDcmVhdGVkRXZlbnQgZnJvbSAnQGJhY2tvZmZpY2UtY29udGV4dHMvY29tbWVyY2VzL2RvbWFpbi9Db21tZXJjZUNyZWF0ZWRFdmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1lcmNlIGV4dGVuZHMgQWdncmVnYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcmVhZG9ubHkgaWQ6IFV1aWRWbyxcbiAgICAgICAgcmVhZG9ubHkgbmFtZTogQ29tbWVyY2VOYW1lVm8sXG4gICAgICAgIHJlYWRvbmx5IGVtYWlsOiBFbWFpbFZvLFxuICAgICAgICByZWFkb25seSBkZXNjcmlwdGlvbjogQ29tbWVyY2VEZXNjcmlwdGlvblZvLFxuICAgICAgICByZWFkb25seSBwaG9uZTogUGhvbmVWbyxcbiAgICAgICAgcmVhZG9ubHkgYWRkcmVzczogQWRkcmVzc1ZvLFxuICAgICkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGUoXG4gICAgICAgIGlkOiBVdWlkVm8sXG4gICAgICAgIG5hbWU6IENvbW1lcmNlTmFtZVZvLFxuICAgICAgICBlbWFpbDogRW1haWxWbyxcbiAgICAgICAgZGVzY3JpcHRpb246IENvbW1lcmNlRGVzY3JpcHRpb25WbyxcbiAgICAgICAgcGhvbmU6IFBob25lVm8sXG4gICAgICAgIGFkZHJlc3M6IEFkZHJlc3NWbyxcbiAgICApOiBDb21tZXJjZSB7XG4gICAgICAgIGNvbnN0IGNvbW1lcmNlID0gbmV3IENvbW1lcmNlKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgKTtcbiAgICAgICAgY29tbWVyY2UucmVjb3JkKG5ldyBDb21tZXJjZUNyZWF0ZWRFdmVudChjb21tZXJjZS50b1ByaW1pdGl2ZXMoKSkpO1xuICAgICAgICByZXR1cm4gY29tbWVyY2U7XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21QcmltaXRpdmVzKHtcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgcGhvbmUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBpZCxcbiAgICAgICAgZW1haWxcbiAgICB9OiBDb21tZXJjZVByaW1pdGl2ZXMpOiBDb21tZXJjZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tbWVyY2UoXG4gICAgICAgICAgICBuZXcgVXVpZFZvKGlkKSxcbiAgICAgICAgICAgIG5ldyBDb21tZXJjZU5hbWVWbyhuYW1lKSxcbiAgICAgICAgICAgIG5ldyBFbWFpbFZvKGVtYWlsKSxcbiAgICAgICAgICAgIG5ldyBDb21tZXJjZURlc2NyaXB0aW9uVm8oZGVzY3JpcHRpb24pLFxuICAgICAgICAgICAgbmV3IFBob25lVm8ocGhvbmUpLFxuICAgICAgICAgICAgbmV3IEFkZHJlc3NWbyhhZGRyZXNzKVxuICAgICAgICApXG4gICAgfVxuXG4gICAgdG9QcmltaXRpdmVzKCk6IENvbW1lcmNlUHJpbWl0aXZlcyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZC52YWx1ZSxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZS52YWx1ZSxcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLmVtYWlsLnZhbHVlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24udmFsdWUsXG4gICAgICAgICAgICBwaG9uZTogdGhpcy5waG9uZS52YWx1ZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYWRkcmVzcy52YWx1ZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbn1cbiJdLCJ2ZXJzaW9uIjozfQ==